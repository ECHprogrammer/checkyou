<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>check length</title>
	<style>
		button { background:white; border:1px solid black; box-shadow:0 0 5px gray; }
		button:hover { box-shadow:0 0 5px black; }
		button:active { box-shadow:0 0 3px black; }
		button.clicked { background:#aaa; }

	</style>
</head>
<body>
	<textarea id="Input" cols="100" rows="20"></textarea>
	<div id="Output" style="font-size:30px;">0</div>
	<button id="SpaceBtn" class="">공백 포함</button>
	<script>
		var Input = document.getElementById("Input");
		var Output = document.getElementById("Output");
		var SpaceBtn = document.getElementById("SpaceBtn");

		function OutputLen()
		{
			var InputLen = 0;
			for (var i = 0; Input.value[i]; i++)
			{
				if (!SpaceBtn.classList.contains("clicked") && Input.value[i] == " ") continue;
				if (Input.value[i] == " " && Input.value[i+1] == " ") continue;
				if (Input.value[i] == " " && Input.value[i+1] == "\n") continue;
				if (Input.value[i] == "." && Input.value[i+1] == " ") continue;
				if (Input.value[i] == "\n") continue;
				InputLen++;
			}
			Output.innerHTML = InputLen;
		}

		Input.addEventListener("input", () => {
			OutputLen();
		});

		SpaceBtn.addEventListener("click", () => {
			SpaceBtn.classList.toggle("clicked");
			OutputLen();
		})

	</script>
</body>
</html>